<div class="relative min-h-screen w-full flex items-center justify-center bg-base-200 overflow-hidden font-sans">

  <!-- Background Decor (Subtle & Clean) -->
  <div class="absolute inset-0 w-full h-full bg-base-200 z-0">
    <div class="absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[120px] opacity-60">
    </div>
    <div
      class="absolute bottom-[-20%] right-[-10%] w-[500px] h-[500px] bg-secondary/20 rounded-full blur-[120px] opacity-60">
    </div>
  </div>

  <!-- Main Card -->
  <div
    class="relative z-10 w-full max-w-[420px] bg-base-100/60 backdrop-blur-xl border border-white/40 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] rounded-3xl p-10 mx-4 transition-all duration-300 hover:shadow-[0_8px_32px_0_rgba(31,38,135,0.25)]">

    <!-- Header -->
    <div class="text-center mb-10">
      <div
        class="inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-tr from-primary to-primary-focus text-white mb-6 shadow-lg shadow-primary/30">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
          class="w-7 h-7">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-30 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3.001.512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
        </svg>
      </div>
      <h1 class="text-3xl font-extrabold tracking-tight text-base-content">Bienvenido</h1>
      <p class="text-sm font-medium text-base-content/60 mt-2">Gestiona tu biblioteca con estilo</p>
    </div>

    <!-- Form -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-5">

      <!-- Email Input -->
      <div class="form-control w-full">
        <div class="relative group">
          <!-- Icon -->
          <div
            class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-300 group-focus-within:text-primary">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-5 h-5 opacity-60 group-focus-within:opacity-100">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
            </svg>
          </div>
          <!-- Input -->
          <input type="email" placeholder="Correo electrónico" aria-label="Correo electrónico"
            class="input input-bordered w-full pl-11 pr-4 py-6 bg-base-50/50 border-base-content/10 focus:border-primary focus:ring-4 focus:ring-primary/10 rounded-xl transition-all font-medium placeholder:text-base-content/40 placeholder:font-normal"
            formControlName="email" />
        </div>
      </div>

      <!-- Password Input -->
      <div class="form-control w-full">
        <div class="relative group">
          <!-- Icon -->
          <div
            class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-300 group-focus-within:text-primary">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-5 h-5 opacity-60 group-focus-within:opacity-100">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
            </svg>
          </div>
          <!-- Input -->
          <input type="password" placeholder="Contraseña" aria-label="Contraseña"
            class="input input-bordered w-full pl-11 pr-4 py-6 bg-base-50/50 border-base-content/10 focus:border-primary focus:ring-4 focus:ring-primary/10 rounded-xl transition-all font-medium placeholder:text-base-content/40 placeholder:font-normal"
            formControlName="password" />
        </div>
        <label class="label justify-end pb-0 pt-2">
          <a href="#" class="label-text-alt link link-primary link-hover font-medium">¿Olvidaste tu contraseña?</a>
        </label>
      </div>

      <button type="submit" [disabled]="loginForm.invalid"
        class="btn btn-primary w-full rounded-xl text-lg font-bold shadow-lg shadow-primary/30 mt-2 h-12 normal-case tracking-wide hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed">
        Iniciar Sesión
      </button>
    </form>

    @if (authService.loginError()) {
    <div role="alert"
      class="alert alert-error text-sm mt-6 rounded-xl animate-fade-in border-none bg-error/10 text-error">
      <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-5 w-5" fill="none" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
      </svg>
      <span class="font-medium">{{ authService.loginError() }}</span>
    </div>
    }

    <!-- Footer -->
    <div class="relative py-6">
      <div class="absolute inset-0 flex items-center">
        <span class="w-full border-t border-base-content/10"></span>
      </div>
      <div class="relative flex justify-center">
        <span
          class="bg-transparent px-2 text-xs text-base-content/40 uppercase tracking-widest font-semibold backdrop-blur-sm">O
          continúa con</span>
      </div>
    </div>

    <div class="text-center">
      <a routerLink="/register"
        class="btn btn-ghost btn-sm rounded-lg w-full text-base-content/70 hover:text-primary hover:bg-primary/10 font-medium normal-case">
        ¿No tienes cuenta? <span class="text-primary font-bold ml-1">Regístrate</span>
      </a>
    </div>
  </div>
</div>